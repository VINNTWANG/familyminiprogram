fetchMyPosts() {
    this.setData({ isLoading: true });
    const userInfo = wx.getStorageSync('userInfo');
    if (!userInfo || !userInfo._openid) {
      this.setData({ isLoading: false, userPosts: [] });
      return;
    }

    const db = wx.cloud.database();
    db.collection('posts')
      .where({ _openid: userInfo._openid })
      .orderBy('createTime', 'desc')
      .get()
      .then(res => {
        const freshPersonalInfo = this.data.personalInfo;
        const posts = (res.data || []).map(post => ({
          ...post,
          authorInfo: freshPersonalInfo, 
          timestamp: formatTime(post.createTime),
        }));
        this.setData({ userPosts: posts, isLoading: false });
      })
      .catch(err => {
        console.error("'鎴戠殑鍙戝竷'鏌ヨ澶辫触", err);
        this.setData({ isLoading: false });
      });
  },

  
